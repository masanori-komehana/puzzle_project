# 外部仕様

* LEDマトリクス(size:32×32)上に駒(size:8×8)が15枚ある
* 起動直後は初期状態で、
駒がランダムにシャッフルされた状態で画面に表示されている。
* SW1-4を押すとパズル進行中となりそれぞれのスイッチを押して駒をスライドし、駒を目的の配置にする。
* 右下の隅を空きとした配置を最終目標とする
* パズルがそろったら「CLEAR」という文字列と揃うまでにかかった時間を表示
    * 揃うまでにかかった時間は、駒がシャッフルされた後SW1-4のどれかを初めて押した瞬間から最終目標の形に揃うまでの時間とし。シーケンス図にすると以下の灰色の四角でしめされた区間である。
    ```eval_rst
    .. mermaid::
        
        sequenceDiagram
            pazzle->>timer : 初期化
            Note right of timer: タイマーリセット
            pazzle->+timer : 駒を動かす
            Note right of timer: タイマースタート 
            timer ->-pazzle : パズルが揃った
            Note right of timer: タイマーストップ
            timer ->> pazzle : 時間表示
    ```
* クリアした後や諦めたいときは、SW0を押して、駒がシャッフルされた開始の状態に戻す

上記の仕様を状態遷移図にしたものを以下に示す。
```eval_rst
.. mermaid::
    
    stateDiagram-v2
        
        [*] --> 初期状態 : 起動
        初期状態 --> パズル進行中 : sw1,2,3,4
        パズル進行中 --> パズル進行中 : sw1,2,3,4
        パズル進行中 --> 初期状態 : sw0
        パズル進行中 --> クリア : パズルが揃う
        クリア --> クリア : sw1,2,3,4
        クリア --> 初期状態 : sw0
```
